using UnityEngine;

public class CarGame : MonoBehaviour
{
    // Bil
    public float speed = 12f;
    public float turnSpeed = 80f;

    // Kamera
    public Transform cameraTransform;
    public Vector3 cameraOffset = new Vector3(0, 3, -7);
    public float cameraSmooth = 5f;

    void Update()
    {
        // --- BILKONTROLL ---
        float v = Input.GetAxis("Vertical");   // W/S
        float h = Input.GetAxis("Horizontal"); // A/D

        // Fremover/bakover
        transform.position += transform.forward * v * speed * Time.deltaTime;

        // Svinge
        transform.Rotate(0f, h * turnSpeed * Time.deltaTime, 0f);

        // --- KAMERA-FÃ˜LGER ---
        if (cameraTransform != null)
        {
            Vector3 targetPos = transform.position + transform.TransformDirection(cameraOffset);

            cameraTransform.position = Vector3.Lerp(
                cameraTransform.position,
                targetPos,
                cameraSmooth * Time.deltaTime
            );

            cameraTransform.LookAt(transform.position + Vector3.up * 1.5f);
        }
    }
}
